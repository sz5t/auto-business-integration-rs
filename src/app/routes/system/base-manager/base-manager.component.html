<pro-header [title]=""></pro-header>

<nz-card>
  <div class = "table-operations">
    <button nz-button  (click)="refresh($event)">刷新</button>
    <button nz-button  (click)="add($event)">新增</button>
    <button nz-button  (click)="update($event)">修改</button>
    <button nz-button  (click)="delete($event)">删除</button>
  </div>
  <nz-table #nzTable
            [nzAjaxData]="_dataSet"
            [nzShowSizeChanger]="true"
            [nzLoading]="_loading"
            [nzTotal]="_total"
            [(nzPageIndex)]="_current"
            (nzPageIndexChange)="refreshData()"
            [(nzPageSize)]="_pageSize"
            (nzPageSizeChange)="refreshData(true)"
            [nzBordered] = "true"
            nzShowTotal
            nzSize = "small">
    <thead nz-thead>
    <tr>
      <th nz-th [nzCheckbox]="true">
        <label nz-checkbox [(ngModel)]="_allChecked" [nzIndeterminate]="_indeterminate" (ngModelChange)="_checkAll()">
        </label>
      </th>
      <th nz-th>
        <span>模块名称</span>
        <nz-table-sort (nzValueChange)="sort('Name',$event)"></nz-table-sort>
      </th>
      <th nz-th>
        <span>主键</span>
        <nz-table-sort (nzValueChange)="sort('Id',$event)"></nz-table-sort>
      </th>
      <th nz-th>
        <span>排序</span>
        <nz-table-sort (nzValueChange)="sort('Order',$event)"></nz-table-sort>
      </th>
    </tr>
    </thead>
    <tbody nz-tbody>
    <tr nz-tbody-tr *ngFor="let data of nzTable.data" (click)="selectRow(data,editCache[data.id]?.dataItem)" [ngStyle]="{'background-color':data.selected?'rgb(236, 246, 253)':''}">
      <td nz-td [nzCheckbox]="true">
        <label nz-checkbox [(ngModel)]="data.checked" (ngModelChange)="refChecked()">
        </label>
      </td>
      <td nz-td>
        <a>{{data.Name}}</a>
      </td>
      <td nz-td>{{data.Id}}</td>
      <td nz-td>{{data.Order}}</td>
    </tr>
    </tbody>
  </nz-table>
</nz-card>

